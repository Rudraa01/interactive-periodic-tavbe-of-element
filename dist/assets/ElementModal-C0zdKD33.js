import{r as s,M as A,j as e,u as M,P as I,a as S,b as $,L as D,m as R,F}from"./index-CNJpEdhu.js";class K extends s.Component{getSnapshotBeforeUpdate(n){const t=this.props.childRef.current;if(t&&n.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T({children:l,isPresent:n}){const t=s.useId(),r=s.useRef(null),x=s.useRef({width:0,height:0,top:0,left:0}),{nonce:f}=s.useContext(A);return s.useInsertionEffect(()=>{const{width:d,height:o,top:c,left:a}=x.current;if(n||!r.current||!d||!o)return;r.current.dataset.motionPopId=t;const i=document.createElement("style");return f&&(i.nonce=f),document.head.appendChild(i),i.sheet&&i.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(i)}},[n]),e.jsx(K,{isPresent:n,childRef:r,sizeRef:x,children:s.cloneElement(l,{ref:r})})}const B=({children:l,initial:n,isPresent:t,onExitComplete:r,custom:x,presenceAffectsLayout:f,mode:d})=>{const o=M(q),c=s.useId(),a=s.useCallback(m=>{o.set(m,!0);for(const p of o.values())if(!p)return;r&&r()},[o,r]),i=s.useMemo(()=>({id:c,initial:n,isPresent:t,custom:x,onExitComplete:a,register:m=>(o.set(m,!1),()=>o.delete(m))}),f?[Math.random(),a]:[t,a]);return s.useMemo(()=>{o.forEach((m,p)=>o.set(p,!1))},[t]),s.useEffect(()=>{!t&&!o.size&&r&&r()},[t]),d==="popLayout"&&(l=e.jsx(T,{isPresent:t,children:l})),e.jsx(I.Provider,{value:i,children:l})};function q(){return new Map}const g=l=>l.key||"";function w(l){const n=[];return s.Children.forEach(l,t=>{s.isValidElement(t)&&n.push(t)}),n}const G=({children:l,custom:n,initial:t=!0,onExitComplete:r,presenceAffectsLayout:x=!0,mode:f="sync",propagate:d=!1})=>{const[o,c]=S(d),a=s.useMemo(()=>w(l),[l]),i=d&&!o?[]:a.map(g),m=s.useRef(!0),p=s.useRef(a),v=M(()=>new Map),[P,z]=s.useState(a),[y,N]=s.useState(a);$(()=>{m.current=!1,p.current=a;for(let h=0;h<y.length;h++){const u=g(y[h]);i.includes(u)?v.delete(u):v.get(u)!==!0&&v.set(u,!1)}},[y,i.length,i.join("-")]);const b=[];if(a!==P){let h=[...a];for(let u=0;u<y.length;u++){const j=y[u],k=g(j);i.includes(k)||(h.splice(u,0,j),b.push(j))}f==="wait"&&b.length&&(h=b),N(w(h)),z(a);return}const{forceRender:C}=s.useContext(D);return e.jsx(e.Fragment,{children:y.map(h=>{const u=g(h),j=d&&!o?!1:a===y||i.includes(u),k=()=>{if(v.has(u))v.set(u,!0);else return;let E=!0;v.forEach(L=>{L||(E=!1)}),E&&(C==null||C(),N(p.current),d&&(c==null||c()),r&&r())};return e.jsx(B,{isPresent:j,initial:!m.current||t?void 0:!1,custom:j?void 0:n,presenceAffectsLayout:x,mode:f,onExitComplete:j?void 0:k,children:h},u)})})};function H({open:l,element:n,onClose:t}){const r=s.useRef(null),x=s.useRef(null),f=s.useRef(null);return s.useEffect(()=>{if(l){f.current=document.activeElement,setTimeout(()=>{var c;return(c=x.current)==null?void 0:c.focus()},0);const d=document.querySelector("[data-app-container]");d&&d.setAttribute("inert","");const o=c=>{var a;if(c.key==="Escape"&&t(),c.key==="Tab"){const i=(a=r.current)==null?void 0:a.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!i||i.length===0)return;const m=i[0],p=i[i.length-1];c.shiftKey&&document.activeElement===m?(c.preventDefault(),p.focus()):!c.shiftKey&&document.activeElement===p&&(c.preventDefault(),m.focus())}};return document.addEventListener("keydown",o),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",o),document.body.style.overflow="",d&&d.removeAttribute("inert")}}else f.current&&f.current.focus()},[l,t]),e.jsx(G,{children:l&&e.jsxs(R.div,{role:"dialog","aria-modal":"true","aria-labelledby":"element-title",className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),e.jsx("div",{className:"absolute inset-0 grid place-items-center p-4",children:e.jsxs(R.div,{ref:r,initial:{y:40,opacity:0},animate:{y:0,opacity:1,transition:{type:"spring",damping:24,stiffness:280}},exit:{y:24,opacity:0},className:"glass-panel relative w-full max-w-lg p-6 shadow-2xl",children:[e.jsx("button",{ref:x,onClick:t,className:"focus-ring absolute right-3 top-3 rounded-md p-2 text-neutral-600 hover:bg-neutral-200/70 dark:text-neutral-300 dark:hover:bg-neutral-700/50","aria-label":"Close",children:e.jsx(F,{className:"h-5 w-5"})}),n&&e.jsxs("div",{children:[e.jsxs("h2",{id:"element-title",className:"text-2xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx("span",{children:n.symbol}),e.jsx("span",{className:"text-base font-medium text-neutral-500 dark:text-neutral-400",children:n.name})]}),e.jsxs("dl",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-neutral-500 dark:text-neutral-400",children:"Atomic #"}),e.jsx("dd",{className:"font-medium",children:n.atomicNumber})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-neutral-500 dark:text-neutral-400",children:"Atomic Mass"}),e.jsx("dd",{className:"font-medium",children:n.atomicMass})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-neutral-500 dark:text-neutral-400",children:"Group"}),e.jsx("dd",{className:"font-medium",children:n.group})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-neutral-500 dark:text-neutral-400",children:"Period"}),e.jsx("dd",{className:"font-medium",children:n.period})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-neutral-500 dark:text-neutral-400",children:"Block"}),e.jsx("dd",{className:"font-medium",children:n.block})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-neutral-500 dark:text-neutral-400",children:"Category"}),e.jsx("dd",{className:"font-medium capitalize",children:n.category})]})]}),e.jsx("p",{className:"mt-4 text-neutral-700 dark:text-neutral-200 text-sm leading-relaxed",children:n.summary})]})]})})]})})}export{H as ElementModal};
